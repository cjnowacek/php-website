# Serve index.php automatically in directories
DirectoryIndex index.php

RewriteEngine On
RewriteBase /

# --- Option 1: clean /pages-techart/runaway/ URLs ---

# 1) Redirect .../index.php → .../
RewriteRule ^(.*/)?index\.php$ /$1 [R=301,L]

# 2) Don’t rewrite real files or directories
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# --- Original clean-URL rules for flat .php pages ---

# 3) Redirect /foo.php → /foo
RewriteCond %{THE_REQUEST} \s/+([^.]+)\.php[\s?]
RewriteRule ^ %1 [R=301,L]

# 4) Map /foo → /foo.php if it exists
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)/?$ $1.php [L]

# 5) Optional: /index → /
RewriteRule ^index/?$ / [R=301,L]
